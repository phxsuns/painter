<!DOCTYPE html>
<html>
	<head>
		<title>Painter</title>
		<meta charset="utf-8">
		<!-- <link type="text/css" rel="stylesheet" href="src/base.css"> -->
		<script src="../lib/jquery.js"></script>
		<script src="../lib/font.js"></script>
	</head>
	<body>

		<!-- <canvas id="c"></canvas> -->
		<div id="d" style="display:none;"></div>

		<script src="../src/layer.js"></script>
		<script src="../src/painter.js"></script>
		<script src="../src/util.js"></script>

		<script>

			//var canvas = document.getElementById('c');
			/*var canvas = document.createElement('canvas');
    		var ctx = canvas.getContext('2d');

    		var fontA = new Font('/painter/test/testfont.ttf');
    		var fontB = new Font('/painter/test/testfont.ttf');
    		var fontC = new Font('/painter/test/testfont.ttf');

			var lt = new layer('Text',{x:0,y:0},0,{text:'永',fontObj:fontA,color:'red',size:50});

			var lt2 = new layer('Text',{x:40,y:10},0,{text:'啦啦啦',fontObj:fontB,color:'red',size:22});

			//var lt3 = new layer('Text',{x:40,y:20},0,{text:'我是小可爱',fontObj:fontC,color:'blue',size:22});

			lt.setCavans(ctx).draw();
			lt2.setCavans(ctx).draw();
			//lt3.setCavans(ctx).draw();

			var imga = new Image();
			imga.src = 'http://img03.taobaocdn.com/tps/i3/T1AaBCXw8hXXbQwwLP-480-220.png';

			var li = new layer('Image',{x:0,y:0},0,{src:'http://localhost/painter/test/test.jpg',width:100,height:100});

			var li2 = new layer('Image',{x:0,y:0},0,{src:'http://localhost/painter/test/test.jpg'});

			//li.setImage({image:imga});
			li.setCavans(ctx).draw();

			console.log(li);
			console.log(li2);

			$(canvas).appendTo('body');*/

			var fontA = new Font('/painter/test/testfont.ttf');
			var p = new painter('painter',{width:400,height:300});
			p.render($('#d')[0]);
			p.add('Text',{text:'我是文字',fontObj:fontA,size:30,color:'#aaee33'},{x:10,y:20},22);
			p.add('Image',{src:'http://img03.taobaocdn.com/tps/i3/T1AaBCXw8hXXbQwwLP-480-220.png'},{x:0,y:0},11);
			p.on('drawComplete',function(){
				$('#d').show();
			}).draw();


		</script>

	</body>
</html>